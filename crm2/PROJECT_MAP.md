# –º–µ–Ω—è–µ–º PROJECT_MAP
# PROJECT_MAP ‚Äî –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (—Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)

_–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –∞—Ä—Ö–∏–≤—É `crm2_250902_824.zip`. –û–ø–∏—Å–∞–Ω–∏—è: –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –∏–ª–∏ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏._

## –í—Ä–µ–∑–∫–∞: –∏—Å—Ö–æ–¥–Ω—ã–π PROJECT_MAP.md

```
# üìÇ PROJECT_MAP.md ‚Äî –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ CRM2 (enriched)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–æ –ø–µ—Ä–µ—á–Ω–µ–º —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —Ñ–∞–π–ª—É –∏–∑ –∞—Ä—Ö–∏–≤–∞ `crm2_250901_951.zip`.**

## –ò—Å—Ö–æ–¥–Ω—ã–π PROJECT_MAP.md

```

# üìÇ PROJECT_MAP.md ‚Äî –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ CRM2

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤

```
crm2/
‚îú‚îÄ‚îÄ __main__.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –∑–∞–ø—É—Å–∫–∞–µ—Ç main() –∏–∑ app.py
‚îú‚îÄ‚îÄ app.py                # –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –±–æ—Ç–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ auto_migrate.py       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –∏–Ω–¥–µ–∫—Å–æ–≤)
‚îú‚îÄ‚îÄ db/                   # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ users.py          # CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ sessions.py       # CRUD –¥–ª—è —Å–µ—Å—Å–∏–π –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ attendance.py     # –£—á—ë—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ profile.py        # –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∫–Ω–æ–ø–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ start.py          # /start, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≤—Ö–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≤—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ info.py           # –†–∞–∑–¥–µ–ª ¬´–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è¬ª
‚îÇ   ‚îú‚îÄ‚îÄ admin_users.py    # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ admin_schedule.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ admin_attendance.py # –£—á—ë—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (–∞–¥–º–∏–Ω)
‚îÇ   ‚îî‚îÄ‚îÄ admin_db_doctor.py # –ü—Ä–æ–≤–µ—Ä–∫–∞/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î (¬´DB Doctor¬ª)
‚îú‚îÄ‚îÄ keyboards/            # Inline/Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ main_menu.py      # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ schedule.py       # –ö–Ω–æ–ø–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ profile.py        # –ö–Ω–æ–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ agents.py         # –ö–Ω–æ–ø–∫–∏ –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ admin_*           # –ö–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –º–µ–Ω—é
‚îî‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

---

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (crm.db)

### users
- id ‚Äî PK
- telegram_id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID TG
- username, nickname, full_name
- password ‚Äî —Ö—ç—à
- role ‚Äî —Ä–æ–ª—å (admin/user)
- phone, email
- events, participants
- cohort_id ‚Äî —Å–≤—è–∑–∫–∞ —Å cohorts

### cohorts
- id, name

### participants
- id
- user_id ‚Äî FK users.id
- cohort_id ‚Äî FK cohorts.id
- stream_id ‚Äî FK streams.id
- created_at

### streams
- id, title

### sessions
- id, start_date, end_date
- topic_code, title, annotation
- stream_id, cohort_id

### session_days
- id, date, stream_id, topic_id, topic_code

### topics
- id, code, title, annotation

### materials
- id, title, body, tg_file_id, mime, created_by, created_at

### assignments
- id, title, body, material_id, due_date, created_by, created_at

### broadcasts
- id, title, body, attachment, audience, cohort_id, status, etc.

### broadcast_recipients
- broadcast_id, user_id, status, sent_at

### consents
- telegram_id, given, ts

---

## üîß –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ —Ñ–∞–π–ª–∞–º

### db/users.py
- `get_user_by_tg()` ‚Äî –≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ telegram_id
- `add_user()` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ
- `update_user_role()` ‚Äî —Å–º–µ–Ω–∞ —Ä–æ–ª–∏
- `list_users()` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### db/sessions.py
- `get_upcoming_sessions_by_cohort()` ‚Äî –±–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–∞
- `get_all_sessions()` ‚Äî –æ–±—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `add_session()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ

### db/attendance.py
- `mark_attendance()` ‚Äî –æ—Ç–º–µ—Ç–∏—Ç—å –ø–æ—Å–µ—â–µ–Ω–∏–µ
- `get_attendance_by_user()` ‚Äî –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
- `get_attendance_by_cohort()` ‚Äî –∂—É—Ä–Ω–∞–ª –¥–ª—è –ø–æ—Ç–æ–∫–∞

### handlers/start.py
- `cmd_start()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ /start
- –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö / –ø–µ—Ä–µ—Ö–æ–¥ –≤ –º–µ–Ω—é —Å—Ç–∞—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### handlers/admin_db_doctor.py
- `show_menu()` ‚Äî –º–µ–Ω—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –ë–î
- `show_structure()` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã/—Å—Ö–µ–º—É
- `fix_sessions()` ‚Äî –ø–æ—á–∏–Ω–∏—Ç—å —Å–µ—Å—Å–∏–∏ (–¥–æ–±–∞–≤–∏—Ç—å cohort_id)
- `show_indexes()` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã

---
## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –∏ –ø—É—Ç–∞–Ω–∏—Ü—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª:

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏**  
   - –°–Ω–∞—á–∞–ª–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

2. **–°–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤**  
   - AI —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–∏—Å–ª–∞—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `app.py`, `handlers/attendance.py`, `db/users.py`).

3. **–ü–µ—Ä–µ–¥–∞—á–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤**  
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏–∑ –∞—Ä—Ö–∏–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞.

4. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞**  
   - AI –≤–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤, –±–µ–∑ –¥–æ–≥–∞–¥–æ–∫.

5. **–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**  
   - –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –±–∞–∑—É (`/var/data/crm.db`), AI –æ—Ç–¥–µ–ª—å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü (`.schema`) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `PROJECT_MAP.md`.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –≤—Ä–µ–º–µ–Ω–∏ –∏–∑-–∑–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π.
"""

[!] –£ –ò–≥–æ—Ä—è –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–ø–∞—Ä–≥–∞–ª–∫–∏. –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.

## ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–ª—É–∂–∏—Ç ¬´–∫–∞—Ä—Ç–æ–π¬ª –ø—Ä–æ–µ–∫—Ç–∞.  
–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å–≤–µ—Ä—è–µ–º—Å—è —Å –Ω–∏–º, —á—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø—Ä–∏–º–µ—Ä: `stream` ‚Üí `cohort_id`).


```

## üîé –§—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –ø–æ —Ñ–∞–π–ª–∞–º

### `crm2/__init__.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/__main__.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/app.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** try_include, main

### `crm2/cli_import_schedule.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** main

### `crm2/config.py`
- **–ö–ª–∞—Å—Å—ã (1):** Settings
- **–§—É–Ω–∫—Ü–∏–∏ (1):** get_settings

### `crm2/db/__init__.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/db/attendance.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (3):** get_last_attendance, get_summary, _table_exists

### `crm2/db/auto_migrate.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (7):** _exec, _has_column, ensure_topics_and_session_days, ensure_events_and_healings, ensure_user_flags_and_attendance, ensure_schedule_schema, ensure_all_schemas

### `crm2/db/bootstrap.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** ensure_min_schema

### `crm2/db/content_loader.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** _parse_md, sync_content_from_files

### `crm2/db/core.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** get_db_connection

### `crm2/db/events.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** upcoming_events_count

### `crm2/db/migrate_admin.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** ensure_admin_schema

### `crm2/db/schedule_loader.py`
- **–ö–ª–∞—Å—Å—ã (1):** Row
- **–§—É–Ω–∫—Ü–∏–∏ (7):** _norm, _pick, _detect_cohort_from_filename, _iter_xlsx, sync_schedule_from_files, list_schedule_files, sync_schedule_autodiscover

### `crm2/db/schedule_repo.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (9):** _dicts, count_trainings, list_trainings, count_events, list_events, count_healings, list_healings, count_all, list_all

### `crm2/db/sqlite.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (6):** _query_only_enabled, _apply_pragmas_sync, _apply_pragmas_async, get_db_connection, aget_db_connection, ensure_schema

### `crm2/db/users.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (9):** get_db_connection, _row_to_dict, list_users, list_users_by_role, list_users_by_cohort, get_user_by_tg, get_user_by_nickname, delete_user_by_tg, upsert_user

### `crm2/db/users_repo.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (6):** _users_columns, _cohort_expr, _where_for_group, _row_to_dict, count_users, list_users

### `crm2/handlers/about.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** cmd_about

### `crm2/handlers/admin/broadcast.py`
- **–ö–ª–∞—Å—Å—ã (1):** BroadcastFSM
- **–§—É–Ω–∫—Ü–∏–∏ (14):** audience_kb, cohorts_kb, confirm_kb, start_broadcast, choose_audience, set_cohort, set_text, no_attach, with_attach, preview, back_to_text, do_send, cancel_bc, back_bc

### `crm2/handlers/admin/logs.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** logs_menu_kb, logs_overview

### `crm2/handlers/admin/panel.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (11):** _admin_menu_kb, admin_panel_kb, render_admin_panel, admin_entry_msg, admin_open_cb, admin_users_entry, admin_schedule_entry, admin_broadcast_entry, admin_logs_entry, admin_dbdoctor_entry, admin_dbdoctor_entry_text

### `crm2/handlers/admin/schedule.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (15):** schedule_menu, _render_menu, trainings_entry, trainings_cohort, trainings_page, _render_trainings, events_entry, events_page, _render_events, healings_entry, healings_page, _render_healings, all_entry, all_page, _render_all

### `crm2/handlers/admin/users.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (8):** admin_users_entry, admin_users_groups, _group_human, _user_line, _show_group_page, admin_users_pick_group, admin_users_page, admin_back

### `crm2/handlers/admin_db.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** db_sessions_info, db_fix_cohort

### `crm2/handlers/admin_db_doctor.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (7):** show_menu, action_sessions_info, action_fix_sessions, action_indexes, action_become_guest, action_become_user2, back_to_main

### `crm2/handlers/admin_users.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** admin_users_entry, admin_users_pick_group

### `crm2/handlers/attendance.py`
- **–ö–ª–∞—Å—Å—ã (1):** AttStates
- **–§—É–Ω–∫—Ü–∏–∏ (10):** attendance_entry, pick_cohort, show_cohort_sessions, enter_attendance, enter_payments, on_pick_session, _mark_kb_att, _mark_kb_pay, mark_attendance, mark_payment

### `crm2/handlers/auth.py`
- **–ö–ª–∞—Å—Å—ã (1):** LoginSG
- **–§—É–Ω–∫—Ü–∏–∏ (11):** _normalize, _is_bcrypt, _check_password, _human_name, _user_role, _bind_telegram_id, _fetch_user_by_credentials, cmd_login, login_nickname, login_password, _show_role_keyboard

### `crm2/handlers/consent.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (4):** consent_kb, has_consent, set_consent, agree

### `crm2/handlers/help.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** cmd_help

### `crm2/handlers/info.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (14):** _get, _code, _fmt_date, _build_details_kb, show_schedule, session_details, show_agents, open_meditation, open_harmony, open_agents_instruction, back_to_main, show_project_menu, how_sessions_go, back_to_main_from_project

### `crm2/handlers/profile.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (4):** _get_user_row, show_profile, toggle_notify, my_materials

### `crm2/handlers/registration.py`
- **–ö–ª–∞—Å—Å—ã (1):** RegistrationFSM
- **–§—É–Ω–∫—Ü–∏–∏ (4):** start_registration_cb, reg_full_name, reg_phone, reg_email

### `crm2/handlers/start.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** guest_menu_kb, cmd_start

### `crm2/handlers/welcome.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** _user_exists, greet_new_user

### `crm2/handlers_schedule.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (10):** send_schedule_keyboard, send_nearest_session, _info_menu_kb, show_info_menu, _show_cohort1, _show_cohort2, _show_new, _show_all_schedule, _show_main_menu, on_session_click

### `crm2/keyboards/__init__.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/keyboards/_impl.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (3):** guest_kb, role_kb, guest_start_kb

### `crm2/keyboards/admin_attendance.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** choose_cohort_kb

### `crm2/keyboards/admin_schedule.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (3):** schedule_menu_kb, schedule_cohorts_kb, pager_kb

### `crm2/keyboards/admin_users.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** users_groups_kb, users_pager_kb

### `crm2/keyboards/agents.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** agents_menu_kb

### `crm2/keyboards/info_menu.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** info_menu_kb

### `crm2/keyboards/main_menu.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** main_menu_kb

### `crm2/keyboards/profile.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** profile_menu_kb

### `crm2/keyboards/project.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** project_menu_kb

### `crm2/keyboards/schedule.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (3):** _fmt_date, format_range, build_schedule_keyboard

### `crm2/keyboards/session_picker.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** build_session_picker

### `crm2/logging_config.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (1):** setup_logging

### `crm2/routers/__init__.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/routers/start.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (2):** get_user_role, cmd_start

### `crm2/services/schedule.py`
- **–ö–ª–∞—Å—Å—ã (1):** Session
- **–§—É–Ω–∫—Ü–∏–∏ (11):** _norm, _parse_date, _find_header_row, _cohort_id_from_filename, _load_one_file, load_all, get_user_cohort_id, upcoming, format_next, format_sessions_brief, next_training_text_for_user

### `crm2/services/services.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/services/users.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (9):** _now_iso, ensure_user, classify_role, set_role, get_user_by_telegram, verify_password, get_user_cohort_id_by_tg, get_user_cohort_title_by_tg, get_user_cohort_code_by_tg

### `crm2/states.py`
- **–ö–ª–∞—Å—Å—ã (1):** Login
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

### `crm2/tools/sync_events_xlsx.py`
- **–ö–ª–∞—Å—Å—ã (0):** ‚Äî
- **–§—É–Ω–∫—Ü–∏–∏ (5):** pick, to_iso, ensure_schema, sync_one_file, main

### `crm2/utils/guards.py`
- **–ö–ª–∞—Å—Å—ã (1):** AdminOnly
- **–§—É–Ω–∫—Ü–∏–∏ (0):** ‚Äî

## ‚ö†Ô∏è –û—à–∏–±–∫–∏ —Ä–∞–∑–±–æ—Ä–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- `crm2/db/sessions.py`: SyntaxError("f-string: expecting '}'", ('crm2/db/sessions.py', 340, 71, '            sql = f"SELECT {id_col} AS id, {start_col} AS start_date, {end_col or start_col} AS end_date, " \\\n                  f"{(topic_col + \' AS topic_code\') if topic_col else \'NULL AS topic_code\'}, " \\\n                  f"{(title_col + \' AS title\') if title_col else \'NULL AS title\'}, " \\\n                  f"{(ann_col + \' AS annotation\') if ann_col else "\'\' AS annotation"} " \\\n', 340, 73))
```

## üîß –§—É–Ω–∫—Ü–∏–∏ –ø–æ —Ñ–∞–π–ª–∞–º

### `crm2/app.py`
- **main** ‚Äî –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞/–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).  
  _–§–∞–π–ª_: `crm2/app.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **try_include** ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ä–æ—É—Ç–µ—Ä –∏–∑ –º–æ–¥—É–ª—è, –µ—Å–ª–∏ –º–æ–¥—É–ª—å/–∞—Ç—Ä–∏–±—É—Ç –µ—Å—Ç—å.  
  _–§–∞–π–ª_: `crm2/app.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### `crm2/cli_import_schedule.py`
- **main** ‚Äî –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞/–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/cli_import_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ

### `crm2/config.py`
- **get_settings** ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è).  
  _–§–∞–π–ª_: `crm2/config.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### `crm2/db/attendance.py`
- **_table_exists** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_last_attendance** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ limit –∑–∞–ø–∏—Å–µ–π –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:  
  _–§–∞–π–ª_: `crm2/db/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_summary** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂: (present, absent, late) –≤—Å–µ–≥–æ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.  
  _–§–∞–π–ª_: `crm2/db/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/auto_migrate.py`
- **_exec** ‚Äî –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π EXEC (–±–µ–∑ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö cur).  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_has_column** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_all_schemas** ‚Äî –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞: —Å–æ–∑–¥–∞—ë–º –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –±–æ—Ç—É.  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_events_and_healings** ‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ/–∞–ø—Å–µ—Ä—Ç (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_schedule_schema** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∏–º–µ–Ω–∏: —Å–æ–∑–¥–∞—ë—Ç –±–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_topics_and_session_days** ‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ/–∞–ø—Å–µ—Ä—Ç (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_user_flags_and_attendance** ‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ/–∞–ø—Å–µ—Ä—Ç (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/auto_migrate.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/bootstrap.py`
- **ensure_min_schema** ‚Äî Ensure core tables exist on startup (idempotent).  
  _–§–∞–π–ª_: `crm2/db/bootstrap.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/content_loader.py`
- **_parse_md** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/content_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **sync_content_from_files** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/content_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/core.py`
- **get_db_connection** ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/core.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/events.py`
- **upcoming_events_count** ‚Äî –í–µ—Ä–Ω—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–¥—É—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π (date >= —Å–µ–≥–æ–¥–Ω—è).  
  _–§–∞–π–ª_: `crm2/db/events.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/migrate_admin.py`
- **ensure_admin_schema** ‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ/–∞–ø—Å–µ—Ä—Ç (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/migrate_admin.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/schedule_loader.py`
- **_detect_cohort_from_filename** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_iter_xlsx** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_norm** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_pick** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_schedule_files** ‚Äî –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ XLSX —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ —à–∞–±–ª–æ–Ω—É schedule_*_cohort.xlsx  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **sync_schedule_autodiscover** ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç XLSX –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **sync_schedule_from_files** ‚Äî XLSX —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: No | start_date | end_date | topic_code | title | annotation  
  _–§–∞–π–ª_: `crm2/db/schedule_loader.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/schedule_repo.py`
- **_dicts** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **count_all** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **count_events** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **count_healings** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **count_trainings** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_all** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_events** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_healings** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_trainings** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/schedule_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/sqlite.py`
- **_apply_pragmas_async** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_apply_pragmas_sync** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_query_only_enabled** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **aget_db_connection** ‚Äî –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (aiosqlite).  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **ensure_schema** ‚Äî –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –±–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –í–ê–ñ–ù–û: –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_db_connection** ‚Äî –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.  
  _–§–∞–π–ª_: `crm2/db/sqlite.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/users.py`
- **_row_to_dict** ‚Äî –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç sqlite3.Row –≤ dict.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **delete_user_by_tg** ‚Äî –£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ telegram_id.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_db_connection** ‚Äî –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å SQLite —Å row_factory=sqlite3.Row.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_user_by_nickname** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ nickname.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **get_user_by_tg** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ telegram_id.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_users** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_users_by_cohort** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ cohort_id.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_users_by_role** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–æ–ª–∏.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **upsert_user** ‚Äî –°–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç; –∏–Ω–∞—á–µ ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–µ–ø—É—Å—Ç—ã–µ –ø–æ–ª—è.  
  _–§–∞–π–ª_: `crm2/db/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/db/users_repo.py`
- **_cohort_expr** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ SQL-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è '–ø–æ—Ç–æ–∫–∞':  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_row_to_dict** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_users_columns** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **_where_for_group** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **count_users** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO
- **list_users** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–î–æ—Å—Ç—É–ø –∫ –ë–î/DAO).  
  _–§–∞–π–ª_: `crm2/db/users_repo.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –î–æ—Å—Ç—É–ø –∫ –ë–î/DAO

### `crm2/handlers/about.py`
- **cmd_about** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/about.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin/broadcast.py`
- **audience_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **back_bc** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **back_to_text** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **cancel_bc** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **choose_audience** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **cohorts_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **confirm_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **do_send** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **no_attach** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **preview** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **set_cohort** ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **set_text** ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **start_broadcast** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **with_attach** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/broadcast.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin/logs.py`
- **logs_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/logs.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **logs_overview** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/logs.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin/panel.py`
- **_admin_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_broadcast_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_dbdoctor_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_dbdoctor_entry_text** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_entry_msg** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_logs_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_open_cb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_panel_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_schedule_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **render_admin_panel** ‚Äî –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–µ–Ω–¥–µ—Ä (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/panel.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin/schedule.py`
- **_render_all** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_render_events** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_render_healings** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_render_menu** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_render_trainings** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **all_entry** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **all_page** ‚Äî –°–ø–∏—Å–æ–∫/–ø–µ—Ä–µ—á–µ–Ω—å —Å—É—â–Ω–æ—Å—Ç–µ–π (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **events_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **events_page** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **healings_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **healings_page** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **schedule_menu** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **trainings_cohort** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **trainings_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **trainings_page** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin/users.py`
- **_group_human** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_group_page** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_user_line** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_back** ‚Äî –í–æ–∑–≤—Ä–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_groups** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_page** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_pick_group** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin_db.py`
- **db_fix_cohort** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **db_sessions_info** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin_db_doctor.py`
- **action_become_guest** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **action_become_user2** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **action_fix_sessions** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **action_indexes** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **action_sessions_info** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **back_to_main** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_menu** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_db_doctor.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/admin_users.py`
- **admin_users_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **admin_users_pick_group** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/admin_users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/attendance.py`
- **_mark_kb_att** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_mark_kb_pay** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **attendance_entry** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **enter_attendance** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **enter_payments** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **mark_attendance** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **mark_payment** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **on_pick_session** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **pick_cohort** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_cohort_sessions** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/auth.py`
- **_bind_telegram_id** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_check_password** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_fetch_user_by_credentials** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_human_name** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_is_bcrypt** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_normalize** ‚Äî –£–±–∏—Ä–∞–µ–º –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω—ã–µ/–Ω–µ–≤–∏–¥–∏–º—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –æ–±—Ä–µ–∑–∞–µ–º –∫—Ä–∞—è.  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_role_keyboard** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_user_role** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **cmd_login** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **login_nickname** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **login_password** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/auth.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/consent.py`
- **agree** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/consent.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **consent_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/consent.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **has_consent** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/consent.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **set_consent** ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/consent.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/help.py`
- **cmd_help** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/help.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/info.py`
- **_build_details_kb** ‚Äî –ö–Ω–æ–ø–∫–∏-—Å—Ç—Ä–æ–∫–∏: –î–ê–¢–´ + –∏–Ω–¥–µ–∫—Å –∫—É—Ä—Å–∞.  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_code** ‚Äî –ë–µ—Ä—ë–º –∏–Ω–¥–µ–∫—Å –∑–∞–Ω—è—Ç–∏—è –ø–æ –ª—é–±–æ–º—É –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏–º—ë–Ω –ø–æ–ª—è.  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_fmt_date** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_get** ‚Äî –î–æ—Å—Ç–∞—ë—Ç –ø–æ–ª–µ –∏ —É –æ–±—ä–µ–∫—Ç–∞, –∏ —É dict.  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **back_to_main** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **back_to_main_from_project** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **how_sessions_go** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **open_agents_instruction** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **open_harmony** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **open_meditation** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **session_details** ‚Äî –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–Ω—è—Ç–∏—è: –¥–∞—Ç—ã, –∫–æ–¥, —Ç–µ–º–∞ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è.  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_agents** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_project_menu** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_schedule** ‚Äî –°–ø–∏—Å–æ–∫ –∑–∞–Ω—è—Ç–∏–π: –¥–∞—Ç—ã + –∏–Ω–¥–µ–∫—Å –≤ —Å–∫–æ–±–∫–∞—Ö; –∫–Ω–æ–ø–∫–∏ ‚Äî –¥–∞—Ç—ã + –∏–Ω–¥–µ–∫—Å.  
  _–§–∞–π–ª_: `crm2/handlers/info.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/profile.py`
- **_get_user_row** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/profile.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **my_materials** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/profile.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_profile** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/profile.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **toggle_notify** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/profile.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/registration.py`
- **reg_email** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/registration.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **reg_full_name** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/registration.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **reg_phone** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/registration.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **start_registration_cb** ‚Äî –°—Ç–∞—Ä—Ç –∏–∑ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ (–≥–æ—Å—Ç–µ–≤–æ–µ –º–µ–Ω—é).  
  _–§–∞–π–ª_: `crm2/handlers/registration.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/start.py`
- **cmd_start** ‚Äî –†–∞–∑–≤–æ–¥–∏–º –Ω–æ–≤—ã—Ö –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:  
  _–§–∞–π–ª_: `crm2/handlers/start.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **guest_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/start.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers/welcome.py`
- **_user_exists** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/welcome.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **greet_new_user** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers/welcome.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/handlers_schedule.py`
- **_info_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_all_schedule** ‚Äî –°–º–µ—à–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –¥–∞—Ç–µ –Ω–∞—á–∞–ª–∞  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_cohort1** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_cohort2** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_main_menu** ‚Äî –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **_show_new** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **on_session_click** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **send_nearest_session** ‚Äî –®–ª—ë—Ç –¢–û–õ–¨–ö–û –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É ¬´–ë–ª–∏–∂–∞–π—à–µ–µ –∑–∞–Ω—è—Ç–∏–µ: ‚Ä¶¬ª, –±–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **send_schedule_keyboard** ‚Äî Renders:  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º
- **show_info_menu** ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–∫–∞–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º).  
  _–§–∞–π–ª_: `crm2/handlers_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –•–µ–Ω–¥–ª–µ—Ä—ã/–∞–π–æ–≥—Ä–∞–º

### `crm2/keyboards/_impl.py`
- **guest_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/_impl.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **guest_start_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/_impl.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **role_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/_impl.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/admin_attendance.py`
- **choose_cohort_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_attendance.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/admin_schedule.py`
- **pager_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **schedule_cohorts_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **schedule_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/admin_users.py`
- **users_groups_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **users_pager_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/admin_users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/agents.py`
- **agents_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/agents.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/info_menu.py`
- **info_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/info_menu.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/main_menu.py`
- **main_menu_kb** ‚Äî –ì–ª–∞–≤–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –º–µ–Ω—é.  
  _–§–∞–π–ª_: `crm2/keyboards/main_menu.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/profile.py`
- **profile_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/profile.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/project.py`
- **project_menu_kb** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/project.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/schedule.py`
- **_fmt_date** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **build_schedule_keyboard** ‚Äî sessions: iterable of dicts with keys: id, start_date, end_date, topic_code, cohort_id  
  _–§–∞–π–ª_: `crm2/keyboards/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **format_range** ‚Äî –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–µ–Ω–¥–µ—Ä (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/keyboards/session_picker.py`
- **build_session_picker** ‚Äî –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã/–æ–±—ä–µ–∫—Ç–∞ (–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).  
  _–§–∞–π–ª_: `crm2/keyboards/session_picker.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `crm2/logging_config.py`
- **setup_logging** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/logging_config.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ

### `crm2/routers/start.py`
- **cmd_start** ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è/–∫–æ–º–∞–Ω–¥—ã (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/routers/start.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ
- **get_user_role** ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/routers/start.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ

### `crm2/services/schedule.py`
- **_cohort_id_from_filename** ‚Äî –í—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º id –ø–æ—Ç–æ–∫–∞ –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –≤–∏–¥–∞ '... 1 –ø–æ—Ç–æ–∫.xlsx' –∏–ª–∏ '... 2 –ø–æ—Ç–æ–∫.xlsx'.  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **_find_header_row** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç (row_index, mapping), –≥–¥–µ mapping ‚Äî —Å–ª–æ–≤–∞—Ä—å —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –Ω—É–∂–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫.  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **_load_one_file** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **_norm** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **_parse_date** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ datetime/date –∏ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ 'YYYY-MM-DD' –∏–ª–∏ 'DD.MM.YYYY'.  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **format_next** ‚Äî –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–µ–Ω–¥–µ—Ä (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **format_sessions_brief** ‚Äî –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–µ–Ω–¥–µ—Ä (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **get_user_cohort_id** ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **load_all** ‚Äî –ß–∏—Ç–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤–∏–¥–∞ '—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ *.xlsx' –∏–∑ crm2/data –∏  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **next_training_text_for_user** ‚Äî –¢–µ–∫—Å—Ç ¬´–±–ª–∏–∂–∞–π—à–µ–≥–æ –∑–∞–Ω—è—Ç–∏—è¬ª (–∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö/–ø–æ—Ç–æ–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **upcoming** ‚Äî –ë–ª–∏–∂–∞–π—à–∏–µ (–Ω–µ –ø—Ä–æ—à–µ–¥—à–∏–µ) —Å–µ—Å—Å–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ –ø–æ—Ç–æ–∫—É.  
  _–§–∞–π–ª_: `crm2/services/schedule.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### `crm2/services/users.py`
- **_now_iso** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞).  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **classify_role** ‚Äî –í–µ—Ä–Ω—ë—Ç —á–∏—Ç–∞–±–µ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **ensure_user** ‚Äî –°–æ–∑–¥–∞—ë—Ç –≥–æ—Å—Ç—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ; –æ–±–Ω–æ–≤–ª—è–µ—Ç last_seen –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö.  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **get_user_by_telegram** ‚Äî –í–µ—Ä–Ω—ë—Ç –≤—Å—é –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ dict –ø–æ telegram_id,  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **get_user_cohort_code_by_tg** ‚Äî –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≤—ã–∑–æ–≤–∞–º–∏.  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **get_user_cohort_id_by_tg** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç cohort_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ Telegram ID, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å –≤ participants.  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **get_user_cohort_title_by_tg** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ (cohorts.title) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ Telegram ID.  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **set_role** ‚Äî –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **verify_password** ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ users –µ—Å—Ç—å –∑–∞–ø–∏—Å—å —Å —Ç–∞–∫–∏–º nickname –∏ password.  
  _–§–∞–π–ª_: `crm2/services/users.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π/–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### `crm2/tools/sync_events_xlsx.py`
- **ensure_schema** ‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ/–∞–ø—Å–µ—Ä—Ç (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/tools/sync_events_xlsx.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ
- **main** ‚Äî –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞/–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/tools/sync_events_xlsx.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ
- **pick** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/tools/sync_events_xlsx.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ
- **sync_one_file** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/tools/sync_events_xlsx.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ
- **to_iso** ‚Äî –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è (–ü—Ä–æ—á–µ–µ).  
  _–§–∞–π–ª_: `crm2/tools/sync_events_xlsx.py` ¬∑ _–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ_: –ü—Ä–æ—á–µ–µ

## üåç –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞) | –§–∞–π–ª |
|---|---|---|
| `ADMIN_ID` | ‚Äî | `crm2/app.py` |
| `ANN_COLS` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `ANN_HEADERS` | ‚Äî | `crm2/services/schedule.py` |
| `BASE_DIR` | ‚Äî | `crm2/config.py` |
| `BOT_TOKEN` | ‚Äî | `crm2/app.py` |
| `BTN_BACK` | '‚Ü©Ô∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é' | `crm2/handlers/admin_db_doctor.py` |
| `BTN_BECOME_GUEST` | 'üôà –°—Ç–∞—Ç—å –≥–æ—Å—Ç–µ–º' | `crm2/handlers/admin_db_doctor.py` |
| `BTN_BECOME_USER2` | 'üë§ –°—Ç–∞—Ç—å user –ø–æ—Ç–æ–∫ 2' | `crm2/handlers/admin_db_doctor.py` |
| `BTN_FIX` | 'üõ† –ò—Å–ø—Ä–∞–≤–∏—Ç—å sessions' | `crm2/handlers/admin_db_doctor.py` |
| `BTN_INDEXES` | 'üìÇ –ò–Ω–¥–µ–∫—Å—ã' | `crm2/handlers/admin_db_doctor.py` |
| `BTN_STRUCT` | 'üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î' | `crm2/handlers/admin_db_doctor.py` |
| `CODE_COLS` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `CODE_HEADERS` | ‚Äî | `crm2/services/schedule.py` |
| `CONSENT_TEXT` | '–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –¥–∞—ë—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö https://krasnpsytech.ru/ZQFHN32\n–ù–∞–∂–∏–º–∞—è –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–°–æ–≥–ª–∞—à–∞—é—Å—å¬ª, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –û—Ç–∫–∞–∑–∞—Ç—å—Å—è –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç üëå' | `crm2/handlers/consent.py` |
| `DATA_DIR` | ‚Äî | `crm2/services/schedule.py` |
| `DATE_COLS` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `DB_PATH` | ‚Äî | `crm2/db/sqlite.py` |
| `DB_PATH` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `END_COLS` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `END_HEADERS` | ‚Äî | `crm2/services/schedule.py` |
| `GROUPS` | ‚Äî | `crm2/keyboards/admin_users.py` |
| `H1_RE` | ‚Äî | `crm2/db/content_loader.py` |
| `HEADER_SCAN_ROWS` | 10 | `crm2/services/schedule.py` |
| `ISO_RE` | ‚Äî | `crm2/db/schedule_loader.py` |
| `PAGE` | 10 | `crm2/handlers/admin/schedule.py` |
| `PAGE_SIZE` | 10 | `crm2/handlers/admin/users.py` |
| `PROJECT_DIR` | ‚Äî | `crm2/db/schedule_loader.py` |
| `REG_START` | 'registration:start' | `crm2/handlers/registration.py` |
| `SCHEDULE_DIR` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `START_HEADERS` | ‚Äî | `crm2/services/schedule.py` |
| `TITLE_COLS` | ‚Äî | `crm2/tools/sync_events_xlsx.py` |
| `TITLE_HEADERS` | ‚Äî | `crm2/services/schedule.py` |
| `_BCRYPT_RE` | ‚Äî | `crm2/handlers/auth.py` |
| `_COL_SYNONYMS` | ‚Äî | `crm2/db/schedule_loader.py` |

## üåê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≥–¥–µ —á–∏—Ç–∞—é—Ç—Å—è)

| ENV | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –§–∞–π–ª |
|---|---|---|
| `ADMIN_ID` | ‚Äî | `crm2/app.py` |
| `ADMIN_ID` | ‚Äî | `crm2/config.py` |
| `BOT_TOKEN` | ‚Äî | `crm2/app.py` |
| `CRM_DB` | ‚Äî | `crm2/config.py` |
| `CRM_DB_QUERY_ONLY` | 1 | `crm2/db/sqlite.py` |
| `DB_PATH` | crm.db | `crm2/tools/sync_events_xlsx.py` |
| `LOG_LEVEL` | ‚Äî | `crm2/config.py` |
| `SCHEDULE_DIR` | /var/data/schedules | `crm2/tools/sync_events_xlsx.py` |
| `TELEGRAM_TOKEN` | ‚Äî | `crm2/app.py` |
| `TELEGRAM_TOKEN` | ‚Äî | `crm2/config.py` |
